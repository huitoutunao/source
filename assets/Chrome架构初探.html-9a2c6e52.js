import{_ as h,r as n,o as d,c as l,d as o,a as r,b as a,e as t}from"./app-138581c8.js";const s={},c={href:"https://time.geekbang.org/column/intro/216",target:"_blank",rel:"noopener noreferrer"};function p(u,e){const i=n("ExternalLinkIcon");return d(),l("div",null,[e[3]||(e[3]=o('<h1 id="chrome-架构初探" tabindex="-1"><a class="header-anchor" href="#chrome-架构初探" aria-hidden="true">#</a> Chrome 架构初探</h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>前端工程师几乎每天都要和浏览器打交道，所以，了解浏览器是如何工作的，能够使我们快速定位问题和提升用户体验。</p><h2 id="什么是进程" tabindex="-1"><a class="header-anchor" href="#什么是进程" aria-hidden="true">#</a> 什么是进程</h2><p>一个进程就是一个程序的运行实例。详细解释就是，启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫进程。</p><h2 id="什么是线程" tabindex="-1"><a class="header-anchor" href="#什么是线程" aria-hidden="true">#</a> 什么是线程</h2><p>线程是操作系统能够进行运算调度的最小单位，被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。</p><h2 id="进程与线程的特点" tabindex="-1"><a class="header-anchor" href="#进程与线程的特点" aria-hidden="true">#</a> 进程与线程的特点</h2><ul><li>进程中的任意一线程执行出错，都会导致整个进程的崩溃。</li><li>线程之间共享进程中的数据。</li><li>当一个进程关闭之后，操作系统会回收进程所占用的内存。</li><li>进程之间的内容相互隔离。</li></ul><h2 id="多进程浏览器" tabindex="-1"><a class="header-anchor" href="#多进程浏览器" aria-hidden="true">#</a> 多进程浏览器</h2><p>以 Chrome 为代表。</p><h3 id="构成" tabindex="-1"><a class="header-anchor" href="#构成" aria-hidden="true">#</a> 构成</h3><ul><li>1 个浏览器主进程：主要负责界面显示、用户交互、子进程管理，同时提供存储（localStorage、session、cookie）等功能。</li><li>1 个网络进程：主要负责页面的网络资源加载，之前是作为一个模块运行在浏览器进程里面的，直至最近才独立出来，成为一个单独的进程。</li><li>1 个 GPU 进程：其实，Chrome 刚开始发布的时候是没有 GPU 进程的。而 GPU 的使用初衷是为了实现 3D CSS 的效果，只是随后网页、Chrome 的 UI 界面都选择采用 GPU 来绘制，这使得 GPU 成为浏览器普遍的需求。最后，Chrome 在其多进程架构上也引入了 GPU 进程。</li><li>多个渲染进程：核心任务是将 HTML、CSS 和 JavaScript 转换为用户可以与之交互的网页，排版引擎 Blink 和 JavaScript 引擎 V8 都是运行在该进程中，默认情况下，Chrome 会为每个 Tab 标签创建一个渲染进程。出于安全考虑，渲染进程都是运行在沙箱模式下。</li><li>多个进程插件：主要是负责插件的运行，因插件易崩溃，所以需要通过插件进程来隔离，以保证插件进程崩溃不会对浏览器和页面造成影响。</li></ul><h3 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点" aria-hidden="true">#</a> 缺点</h3><ul><li>更高的资源占用。</li><li>更复杂的体系架构。</li></ul><h3 id="面向未来" tabindex="-1"><a class="header-anchor" href="#面向未来" aria-hidden="true">#</a> 面向未来</h3><p>面向服务的架构（SOA）：Chrome 整体架构会朝向现代操作系统所采用的“面向服务的架构” 方向发展，原来的各种模块会被重构成独立的服务（Service），每个服务（Service）都可以在独立的进程中运行，访问服务（Service）必须使用定义好的接口，通过 IPC 来通信，从而构建一个更内聚、松耦合、易于维护和扩展的系统，更好实现 Chrome 简单、稳定、高速、安全的目标。</p><p>理解：将基础服务封装在一个箱子里，进程需要使用哪个基础服务，就通过定义好的 api 接口访问。</p><h2 id="结语" tabindex="-1"><a class="header-anchor" href="#结语" aria-hidden="true">#</a> 结语</h2>',19)),r("p",null,[e[1]||(e[1]=a("这是学习",-1)),r("a",c,[e[0]||(e[0]=a("《浏览器工作原理与实践》",-1)),t(i)]),e[2]||(e[2]=a("李兵老师课程的笔记。",-1))])])}const f=h(s,[["render",p],["__file","Chrome架构初探.html.vue"]]);export{f as default};
